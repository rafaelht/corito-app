"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6336],{6336:(C,d,a)=>{a.r(d),a.d(d,{RegisterPage:()=>M});var p=a(467),r=a(9420),l=a(4341),c=a(2881),e=a(1360),u=a(3615),_=a(5032),h=a(9609);function f(s,g){if(1&s&&(e.j41(0,"div",28),e.nrm(1,"ion-icon",29),e.j41(2,"p",30),e.EFF(3),e.k0s()()),2&s){const m=e.XpG();e.R7$(3),e.JRh(m.message)}}let M=(()=>{var s;class g{constructor(t,n,i,o){this.supabase=t,this.alertController=n,this.router=i,this.navCtrl=o,this.firstName="",this.lastName="",this.email="",this.confirmEmail="",this.password="",this.confirmPassword="",this.loading=!1,this.message="",this.currentYear=(new Date).getFullYear()}ngOnInit(){this.resetForm()}resetForm(){this.firstName="",this.lastName="",this.email="",this.confirmEmail="",this.password="",this.confirmPassword="",this.loading=!1}register(){var t=this;return(0,p.A)(function*(){if(t.message="",t.email===t.confirmEmail)if(t.password===t.confirmPassword){t.loading=!0;try{const{error:i}=yield t.supabase.client.auth.signUp({email:t.email,password:t.password,options:{data:{first_name:t.firstName,last_name:t.lastName}}});if(i)throw i;t.loading=!1,yield t.showSuccessAlert()}catch(n){t.loading=!1,t.message=`Error al registrar: ${n.message}`}}else t.message="Las contrase\xf1as no coinciden.";else t.message="Los correos no coinciden."})()}showSuccessAlert(){var t=this;return(0,p.A)(function*(){yield(yield t.alertController.create({header:"Registro exitoso \u{1f973}\u2705",message:"Usuario creado correctamente. Por favor, revisa tu correo para verificar tu cuenta.",buttons:[{text:"Aceptar",handler:()=>{t.router.navigate(["/auth"],{replaceUrl:!0})}}]})).present()})()}goBack(){this.navCtrl.back()}goToLogin(){this.router.navigate(["/auth"],{replaceUrl:!0})}}return(s=g).\u0275fac=function(t){return new(t||s)(e.rXU(u.w),e.rXU(r.hG),e.rXU(h.Ix),e.rXU(_.q9))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-register"]],decls:47,vars:10,consts:[["slot","start"],["defaultHref","/auth","text","",3,"click"],[1,"ion-text-center"],[1,"auth-content"],[1,"background-animation"],[1,"gradient-overlay"],[1,"auth-container"],[1,"brand-section"],[1,"form-section"],[1,"form-card"],[1,"form-title"],[1,"register-form",3,"submit"],[1,"input-group"],["lines","none",1,"modern-item",2,"--background","#3a3a3c","--border-width","0","--inner-border-width","0","--border-color","transparent","--box-shadow","none"],["name","person-outline","slot","start",1,"input-icon"],["name","firstName","placeholder","Nombre","required","",1,"modern-input",3,"ngModelChange","ngModel"],["name","lastName","placeholder","Apellido","required","",1,"modern-input",3,"ngModelChange","ngModel"],["name","mail-outline","slot","start",1,"input-icon"],["name","email","type","email","placeholder","Correo electr\xf3nico","required","",1,"modern-input",3,"ngModelChange","ngModel"],["name","confirmEmail","type","email","placeholder","Confirmar correo","required","",1,"modern-input",3,"ngModelChange","ngModel"],["name","lock-closed-outline","slot","start",1,"input-icon"],["name","password","type","password","placeholder","Contrase\xf1a","required","",1,"modern-input",3,"ngModelChange","ngModel"],["name","confirmPassword","type","password","placeholder","Confirmar contrase\xf1a","required","",1,"modern-input",3,"ngModelChange","ngModel"],["class","error-container",4,"ngIf"],["expand","block","type","button",1,"login-button",3,"click","disabled"],["name","person-add-outline","slot","start"],[1,"fixed-footer"],[1,"footer-text"],[1,"error-container"],["name","alert-circle-outline",1,"error-icon"],[1,"error-message"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-back-button",1),e.bIt("click",function(){return n.goBack()}),e.k0s()(),e.j41(4,"ion-title",2),e.EFF(5,"Crear Cuenta"),e.k0s()()(),e.j41(6,"ion-content",3)(7,"div",4),e.nrm(8,"div",5),e.k0s(),e.j41(9,"div",6),e.nrm(10,"div",7),e.j41(11,"div",8)(12,"div",9)(13,"h2",10),e.EFF(14,"Registrate"),e.k0s(),e.j41(15,"form",11),e.bIt("submit",function(){return n.register()}),e.j41(16,"div",12)(17,"ion-item",13),e.nrm(18,"ion-icon",14),e.j41(19,"ion-input",15),e.mxI("ngModelChange",function(o){return e.DH7(n.firstName,o)||(n.firstName=o),o}),e.k0s()()(),e.j41(20,"div",12)(21,"ion-item",13),e.nrm(22,"ion-icon",14),e.j41(23,"ion-input",16),e.mxI("ngModelChange",function(o){return e.DH7(n.lastName,o)||(n.lastName=o),o}),e.k0s()()(),e.j41(24,"div",12)(25,"ion-item",13),e.nrm(26,"ion-icon",17),e.j41(27,"ion-input",18),e.mxI("ngModelChange",function(o){return e.DH7(n.email,o)||(n.email=o),o}),e.k0s()()(),e.j41(28,"div",12)(29,"ion-item",13),e.nrm(30,"ion-icon",17),e.j41(31,"ion-input",19),e.mxI("ngModelChange",function(o){return e.DH7(n.confirmEmail,o)||(n.confirmEmail=o),o}),e.k0s()()(),e.j41(32,"div",12)(33,"ion-item",13),e.nrm(34,"ion-icon",20),e.j41(35,"ion-input",21),e.mxI("ngModelChange",function(o){return e.DH7(n.password,o)||(n.password=o),o}),e.k0s()()(),e.j41(36,"div",12)(37,"ion-item",13),e.nrm(38,"ion-icon",20),e.j41(39,"ion-input",22),e.mxI("ngModelChange",function(o){return e.DH7(n.confirmPassword,o)||(n.confirmPassword=o),o}),e.k0s()()()(),e.DNE(40,f,4,1,"div",23),e.j41(41,"ion-button",24),e.bIt("click",function(){return n.register()}),e.nrm(42,"ion-icon",25),e.EFF(43),e.k0s()()()()(),e.j41(44,"div",26)(45,"p",27),e.EFF(46),e.k0s()()),2&t&&(e.R7$(19),e.R50("ngModel",n.firstName),e.R7$(4),e.R50("ngModel",n.lastName),e.R7$(4),e.R50("ngModel",n.email),e.R7$(4),e.R50("ngModel",n.confirmEmail),e.R7$(4),e.R50("ngModel",n.password),e.R7$(4),e.R50("ngModel",n.confirmPassword),e.R7$(),e.Y8G("ngIf",n.message),e.R7$(),e.Y8G("disabled",n.loading),e.R7$(2),e.SpI(" ",n.loading?"Creando...":"Crear Cuenta"," "),e.R7$(3),e.SpI("\xa9 ",n.currentYear," Corito. By Rafael H."))},dependencies:[c.MD,c.bT,l.YN,l.qT,l.BC,l.cb,l.YS,l.vS,l.cV,r.bv,r.Jm,r.QW,r.W9,r.eU,r.iq,r.$w,r.uz,r.BC,r.ai,r.Gw,r.el],styles:['@charset "UTF-8";.auth-container[_ngcontent-%COMP%]{padding-top:0;padding-bottom:30px;min-height:100vh;display:flex;flex-direction:column}ion-title[_ngcontent-%COMP%]{text-align:center!important;position:absolute!important;left:0!important;right:0!important;margin:0 auto!important}.form-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:0 10px;margin-top:0}.form-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:10px 20px;margin-bottom:0}.input-group[_ngcontent-%COMP%]{margin-bottom:1px}.register-button[_ngcontent-%COMP%]{--background: transparent;--border-color: #667eea;--border-width: 1px;--border-style: solid;--color: #667eea;--border-radius: 8px;font-weight:500;text-transform:none;margin-top:1px;width:100%}.register-button[_ngcontent-%COMP%]:hover{--background: rgba(102, 126, 234, .1)}.register-button[_ngcontent-%COMP%]:disabled{--background: rgba(102, 126, 234, .1);--color: rgba(102, 126, 234, .6)}@media (max-width: 480px){.auth-container[_ngcontent-%COMP%]{padding:0 0 30px}.form-section[_ngcontent-%COMP%]{padding:0 5px;margin-top:0}.form-card[_ngcontent-%COMP%]{padding:5px 15px;margin-bottom:0}.input-group[_ngcontent-%COMP%]{margin-bottom:0}.form-title[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:2px}}@media (max-width: 360px){.form-card[_ngcontent-%COMP%]{padding:3px 12px}.form-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1px}.input-group[_ngcontent-%COMP%]{margin-bottom:0}}@media (min-width: 768px){.auth-container[_ngcontent-%COMP%]{padding-top:80px!important}.form-section[_ngcontent-%COMP%]{margin-top:20px!important;padding-top:20px!important}}@media (min-width: 1024px){.auth-container[_ngcontent-%COMP%]{padding-top:100px!important}.form-section[_ngcontent-%COMP%]{margin-top:30px!important;padding-top:30px!important}}']}),g})()}}]);