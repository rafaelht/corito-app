"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6689],{6689:(E,g,s)=>{s.r(g),s.d(g,{HomePage:()=>O});var l=s(467),e=s(9420),d=s(2881),u=s(9870),n=s(1360),m=s(9609);let f=(()=>{var o;class a{constructor(t,i){this.router=t,this.popoverCtrl=i,this.userEmail=""}viewProfile(){var t=this;return(0,l.A)(function*(){yield t.popoverCtrl.dismiss(),t.router.navigateByUrl("/profile")})()}logout(){var t=this;return(0,l.A)(function*(){localStorage.clear(),yield t.popoverCtrl.dismiss(),t.router.navigateByUrl("/auth",{replaceUrl:!0})})()}}return(o=a).\u0275fac=function(t){return new(t||o)(n.rXU(m.Ix),n.rXU(e.IE))},o.\u0275cmp=n.VBU({type:o,selectors:[["app-profile-popover"]],inputs:{userEmail:"userEmail"},decls:9,vars:0,consts:[["lines","none"],["button","",3,"click"],["slot","start","name","person-circle-outline"],["slot","start","name","log-out-outline"]],template:function(t,i){1&t&&(n.j41(0,"ion-list",0)(1,"ion-item",1),n.bIt("click",function(){return i.viewProfile()}),n.nrm(2,"ion-icon",2),n.j41(3,"ion-label"),n.EFF(4,"Mi Perfil"),n.k0s()(),n.j41(5,"ion-item",1),n.bIt("click",function(){return i.logout()}),n.nrm(6,"ion-icon",3),n.j41(7,"ion-label"),n.EFF(8,"Cerrar sesi\xf3n"),n.k0s()()())},dependencies:[e.bv,e.iq,e.uz,e.he,e.nf,d.MD],styles:["ion-list[_ngcontent-%COMP%]{padding:4px 0;margin:0}ion-item[_ngcontent-%COMP%]{--min-height: 40px;--padding-start: 12px;--padding-end: 4px;--inner-padding-end: 4px;text-align:left;justify-content:flex-start}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:1.1rem}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500;text-align:left;font-size:.9rem}"]}),a})();var v=s(3615),h=s(2022);const P=o=>["/event-detail",o];function _(o,a){1&o&&(n.j41(0,"div",16),n.nrm(1,"ion-spinner",17),n.k0s())}function C(o,a){1&o&&(n.j41(0,"div",18),n.nrm(1,"ion-icon",19),n.j41(2,"p"),n.EFF(3,"No tienes eventos todav\xeda."),n.k0s(),n.j41(4,"span"),n.EFF(5,"\xa1Crea tu primer corito para empezar!"),n.k0s()())}function x(o,a){1&o&&(n.j41(0,"ion-badge",28),n.EFF(1,"Borrador"),n.k0s())}function b(o,a){if(1&o&&(n.j41(0,"ion-col",21)(1,"ion-card",22)(2,"ion-card-header")(3,"ion-card-title"),n.EFF(4),n.k0s(),n.nrm(5,"div",23),n.j41(6,"ion-card-subtitle"),n.EFF(7),n.nI1(8,"date"),n.k0s(),n.j41(9,"div",24),n.DNE(10,x,2,0,"ion-badge",25),n.k0s()(),n.j41(11,"ion-card-content")(12,"p"),n.nrm(13,"ion-icon",26),n.EFF(14),n.k0s(),n.j41(15,"p"),n.nrm(16,"ion-icon",27),n.EFF(17),n.nI1(18,"date"),n.k0s()()()()),2&o){const r=a.$implicit;n.R7$(),n.Y8G("routerLink",n.eq3(12,P,r.id)),n.R7$(3),n.JRh(r.title),n.R7$(3),n.JRh(n.i5U(8,6,r.date,"fullDate")),n.R7$(3),n.Y8G("ngIf","draft"===r.status),n.R7$(4),n.SpI(" ",r.location,""),n.R7$(3),n.SpI(" ",n.i5U(18,9,r.date+"T"+r.time,"h:mm a"),"")}}function M(o,a){if(1&o&&(n.j41(0,"ion-grid")(1,"ion-row"),n.DNE(2,b,19,14,"ion-col",20),n.k0s()()),2&o){const r=n.XpG();n.R7$(2),n.Y8G("ngForOf",r.events)}}let O=(()=>{var o;class a{constructor(t,i,c,p,y){this.supabase=t,this.router=i,this.alertController=c,this.popoverController=p,this.eventService=y,this.userEmail="",this.userId="",this.events=[],this.isLoading=!0}ngOnInit(){}ionViewWillEnter(){var t=this;return(0,l.A)(function*(){t.isLoading=!0;const{data:{user:i}}=yield t.supabase.client.auth.getUser();i?(t.userEmail=i.email||"",t.userId=i.id,t.loadUserEvents()):(t.isLoading=!1,t.router.navigateByUrl("/auth"))})()}loadUserEvents(){var t=this;return(0,l.A)(function*(){try{t.events=yield t.eventService.getEventsByUser(t.userId)}catch(i){console.error("Error loading events:",i)}finally{t.isLoading=!1}})()}createNewEvent(){this.router.navigateByUrl("/create-event")}openPopover(t){var i=this;return(0,l.A)(function*(){return yield(yield i.popoverController.create({component:f,event:t,translucent:!0,componentProps:{userEmail:i.userEmail}})).present()})()}logout(){var t=this;return(0,l.A)(function*(){var c;yield(yield t.alertController.create({header:"\u{1f512} Cerrar sesi\xf3n",message:"\xbfEst\xe1s seguro de que deseas cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Cerrar sesi\xf3n",role:"confirm",handler:(c=(0,l.A)(function*(){yield t.supabase.client.auth.signOut(),t.router.navigateByUrl("/auth")}),function(){return c.apply(this,arguments)})}]})).present()})()}}return(o=a).\u0275fac=function(t){return new(t||o)(n.rXU(v.w),n.rXU(m.Ix),n.rXU(e.hG),n.rXU(e.IE),n.rXU(h.U))},o.\u0275cmp=n.VBU({type:o,selectors:[["app-home"]],decls:20,vars:3,consts:[[1,"ion-no-border"],[1,"home-title"],["slot","end"],[1,"profile-button",2,"--padding-start","12px","--padding-end","12px",3,"click"],["slot","icon-only","name","person-circle-outline",2,"font-size","3rem","width","3rem","height","3rem"],[1,"home-content"],[1,"subtitle-container"],[1,"subtitle"],[1,"events-container"],["class","ion-text-center ion-padding",4,"ngIf"],["class","empty-state",4,"ngIf"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],[1,"create-event-fab",3,"click"],["name","add"],[1,"fab-tooltip"],[1,"ion-text-center","ion-padding"],["name","crescent"],[1,"empty-state"],["name","calendar-outline"],["size","12","size-md","4","size-lg","4",4,"ngFor","ngForOf"],["size","12","size-md","4","size-lg","4"],[1,"event-card",3,"routerLink"],[1,"card-divider"],[1,"card-title-container"],["color","medium",4,"ngIf"],["name","location-outline","slot","start"],["name","time-outline","slot","start"],["color","medium"]],template:function(t,i){1&t&&(n.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),n.EFF(3,"Mis Coritos"),n.k0s(),n.j41(4,"ion-buttons",2)(5,"ion-button",3),n.bIt("click",function(p){return i.openPopover(p)}),n.nrm(6,"ion-icon",4),n.k0s()()()(),n.j41(7,"ion-content",5)(8,"div",6)(9,"h2",7),n.EFF(10,"Coritos recientes"),n.k0s()(),n.j41(11,"div",8),n.DNE(12,_,2,0,"div",9)(13,C,6,0,"div",10)(14,M,3,1,"ion-grid",11),n.k0s(),n.j41(15,"ion-fab",12)(16,"ion-fab-button",13),n.bIt("click",function(){return i.createNewEvent()}),n.nrm(17,"ion-icon",14),n.k0s()(),n.j41(18,"div",15),n.EFF(19," Crear nuevo evento "),n.k0s()()),2&t&&(n.R7$(12),n.Y8G("ngIf",i.isLoading),n.R7$(),n.Y8G("ngIf",!i.isLoading&&0===i.events.length),n.R7$(),n.Y8G("ngIf",!i.isLoading&&i.events.length>0))},dependencies:[e.bv,e.In,e.Jm,e.QW,e.b_,e.I9,e.ME,e.HW,e.tN,e.hU,e.W9,e.Q8,e.YW,e.lO,e.eU,e.iq,e.ln,e.w2,e.BC,e.ai,e.N7,d.MD,d.Sq,d.bT,d.vh,u.Wk],styles:['@charset "UTF-8";.home-title[_ngcontent-%COMP%]{--padding: 0;font-size:1.8rem;font-weight:700;letter-spacing:.1rem;color:#e0e0e0;position:static;text-align:left;padding-inline-start:0;padding-left:12px;position:relative}.home-title[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:1.8rem;background:#667eea;border-radius:2px}.subtitle-container[_ngcontent-%COMP%]{padding:16px 16px 8px}.subtitle[_ngcontent-%COMP%]{color:#a0a0a0;font-size:1.1rem;font-weight:500;margin:0;text-align:left;position:relative;display:inline-block}.subtitle[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-4px;left:0;width:100%;height:1px;background:#a0a0a04d}ion-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;height:100%}.fab-tooltip[_ngcontent-%COMP%]{position:fixed;bottom:80px;right:20px;background:#000000e6;color:#fff;padding:8px 12px;border-radius:6px;font-size:.8rem;opacity:0;transform:translateY(10px);transition:all .3s ease;pointer-events:none;z-index:1000;white-space:nowrap;box-shadow:0 2px 8px #0000004d}.create-event-fab[_ngcontent-%COMP%]:hover + .fab-tooltip[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.events-container[_ngcontent-%COMP%]{padding:16px;width:100%}.events-title[_ngcontent-%COMP%]{display:none}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#a0a0a0}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:4rem;color:#667eea}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:16px}.empty-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;color:#888}.event-list[_ngcontent-%COMP%]{background:transparent;padding:0}.card-title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}ion-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:4px 8px}@media (min-width: 768px){ion-toolbar[_ngcontent-%COMP%]{min-height:100px}.home-title[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.5rem}}.event-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}.event-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{color:#fff;font-weight:600;margin-bottom:0;order:1}.event-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .card-divider[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.1);margin:12px 0 8px;order:2}.event-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{padding-top:0;margin-top:0;order:3}.event-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   .card-title-container[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;justify-content:flex-end;align-items:flex-start;order:1}.event-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;margin:8px 0}.event-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#667eea;margin-right:8px;font-size:1.1rem}.create-event-fab[_ngcontent-%COMP%]{margin-right:16px;margin-bottom:16px}.profile-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 8px;--padding-bottom: 8px}.profile-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:3rem!important;width:3rem!important;height:3rem!important}ion-button.profile-button[_ngcontent-%COMP%]   ion-icon[name=person-circle-outline][_ngcontent-%COMP%]{font-size:3rem!important;width:3rem!important;height:3rem!important;--ionicon-stroke-width: 32px}ion-buttons[slot=end][_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[name=person-circle-outline][_ngcontent-%COMP%]{font-size:3rem!important;width:3rem!important;height:3rem!important}']}),a})()}}]);