"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2],{2:(I,p,i)=>{i.r(p),i.d(p,{AuthPage:()=>y});var g=i(467),r=i(9420),c=i(2881),a=i(4341),e=i(1360),_=i(3615),h=i(9609);const f=["emailInput"],E=["passwordInput"];function P(s,d){if(1&s&&(e.j41(0,"div",26),e.nrm(1,"ion-icon",27),e.j41(2,"p",28),e.EFF(3),e.k0s()()),2&s){const u=e.XpG();e.R7$(3),e.JRh(u.message)}}let y=(()=>{var s;class d{constructor(n,t){this.supabase=n,this.router=t,this.email="",this.password="",this.message="",this.loading=!1,this.currentYear=(new Date).getFullYear()}ngAfterViewInit(){setTimeout(()=>{this.applyInputStyles()},100)}applyInputStyles(){const n=document.querySelectorAll("ion-input");n.forEach(t=>{const o=t;o.style.setProperty("--color","white"),o.style.setProperty("color","white")}),this.isAndroid()&&n.forEach(t=>{const o=t;o.style.setProperty("--color","white !important"),o.style.setProperty("color","white !important")})}isAndroid(){return navigator.userAgent.toLowerCase().includes("android")}login(){var n=this;return(0,g.A)(function*(){n.loading=!0,n.message="";const{error:t}=yield n.supabase.client.auth.signInWithPassword({email:n.email,password:n.password});t?n.message=`Error al iniciar sesi\xf3n: ${t.message}`:n.router.navigateByUrl("/home"),n.loading=!1})()}goToRegister(){this.router.navigateByUrl("/register")}ionViewWillEnter(){this.email="",this.password="",this.message="",this.loading=!1,setTimeout(()=>{this.applyInputStyles()},100)}}return(s=d).\u0275fac=function(n){return new(n||s)(e.rXU(_.w),e.rXU(h.Ix))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-auth"]],viewQuery:function(n,t){if(1&n&&(e.GBs(f,5),e.GBs(E,5)),2&n){let o;e.mGM(o=e.lsd())&&(t.emailInput=o.first),e.mGM(o=e.lsd())&&(t.passwordInput=o.first)}},decls:35,vars:6,consts:[["emailInput",""],["passwordInput",""],[1,"auth-content"],[1,"background-animation"],[1,"gradient-overlay"],[1,"auth-container"],[1,"brand-section"],[1,"brand-title"],[1,"brand-subtitle"],[1,"form-section"],[1,"form-card"],[1,"form-title"],[1,"login-form",3,"submit"],["lines","none",1,"modern-item"],["name","mail-outline","slot","start"],["name","email","type","email","placeholder","Correo electr\xf3nico","required","",1,"modern-input",3,"ngModelChange","ngModel"],["name","lock-closed-outline","slot","start"],["name","password","type","password","placeholder","Contrase\xf1a","required","",1,"modern-input",3,"ngModelChange","ngModel"],["expand","block","type","submit",1,"login-button",3,"disabled"],["name","log-in-outline","slot","start"],[1,"divider"],["expand","block","fill","outline","color","secondary",1,"register-button",3,"click"],["name","person-add-outline","slot","start"],["class","error-container",4,"ngIf"],[1,"fixed-footer"],[1,"footer-text"],[1,"error-container"],["name","alert-circle-outline",1,"error-icon"],[1,"error-message"]],template:function(n,t){if(1&n){const o=e.RV6();e.j41(0,"ion-content",2)(1,"div",3),e.nrm(2,"div",4),e.k0s(),e.j41(3,"div",5)(4,"div",6)(5,"h1",7),e.EFF(6,"Coritos"),e.k0s(),e.j41(7,"p",8),e.EFF(8,"Organiza tus eventos de manera simple"),e.k0s()(),e.j41(9,"div",9)(10,"div",10)(11,"h2",11),e.EFF(12,"Iniciar Sesi\xf3n"),e.k0s(),e.j41(13,"form",12),e.bIt("submit",function(){return e.eBV(o),e.Njj(t.login())}),e.j41(14,"ion-item",13),e.nrm(15,"ion-icon",14),e.j41(16,"ion-input",15,0),e.mxI("ngModelChange",function(l){return e.eBV(o),e.DH7(t.email,l)||(t.email=l),e.Njj(l)}),e.k0s()(),e.j41(18,"ion-item",13),e.nrm(19,"ion-icon",16),e.j41(20,"ion-input",17,1),e.mxI("ngModelChange",function(l){return e.eBV(o),e.DH7(t.password,l)||(t.password=l),e.Njj(l)}),e.k0s()(),e.j41(22,"ion-button",18),e.nrm(23,"ion-icon",19),e.EFF(24),e.k0s()(),e.j41(25,"div",20)(26,"span"),e.EFF(27,"o"),e.k0s()(),e.j41(28,"ion-button",21),e.bIt("click",function(){return e.eBV(o),e.Njj(t.goToRegister())}),e.nrm(29,"ion-icon",22),e.EFF(30," Crear Cuenta "),e.k0s(),e.DNE(31,P,4,1,"div",23),e.k0s()()()(),e.j41(32,"div",24)(33,"p",25),e.EFF(34),e.k0s()()}2&n&&(e.R7$(16),e.R50("ngModel",t.email),e.R7$(4),e.R50("ngModel",t.password),e.R7$(2),e.Y8G("disabled",t.loading),e.R7$(2),e.SpI(" ",t.loading?"Iniciando...":"Iniciar Sesi\xf3n"," "),e.R7$(7),e.Y8G("ngIf",t.message),e.R7$(3),e.SpI("\xa9 ",t.currentYear," Coritos. By Rafael H."))},dependencies:[r.bv,r.Jm,r.W9,r.iq,r.$w,r.uz,r.Gw,c.MD,c.bT,a.YN,a.qT,a.BC,a.cb,a.YS,a.vS,a.cV],styles:['@charset "UTF-8";']}),d})()}}]);